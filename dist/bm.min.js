(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var get=require("../lib/get");var config=require("../lib/config");var url=config.url;var isNumber=require("../lib/isNumber");var isFunction=require("../lib/isFunction");var api=config.endpoint.getAchievement;module.exports=function(achievementId,onsuccess,onerror){if(!isNumber(achievementId)){throw new TypeError("typeof achievementId have to be number")}if(!isFunction(onsuccess)){throw new TypeError("typeof onsuccess have to be function")}if(!isFunction(onerror)){throw new TypeError("typeof onerror have to be function")}var params={userId:this.userId,achievementId:achievementId};get(url+api,params,onsuccess,onerror)}},{"../lib/config":5,"../lib/get":6,"../lib/isFunction":7,"../lib/isNumber":8}],2:[function(require,module,exports){module.exports.get=require("./get");module.exports.update=require("./update")},{"./get":1,"./update":3}],3:[function(require,module,exports){var post=require("../lib/post");var config=require("../lib/config");var url=config.url;var isNumber=require("../lib/isNumber");var isFunction=require("../lib/isFunction");var api=config.endpoint.updateAchievement;module.exports=function(achievementId,stepsComplete,onsuccess,onerror){if(!isNumber(achievementId)){throw new Error}if(!isNumber(stepsComplete)){throw new Error}if(!isFunction(onsuccess)){throw new TypeError("typeof onsuccess have to be function")}if(!isFunction(onerror)){throw new TypeError("typeof onerror have to be function")}var params={userId:this.userId,achievementId:achievementId,stepsComplete:stepsComplete};post(url+api,params,onsuccess,onerror)}},{"../lib/config":5,"../lib/isFunction":7,"../lib/isNumber":8,"../lib/post":9}],4:[function(require,module,exports){(function(global){"use strict";var isNumber=require("./lib/isNumber");var config=require("./lib/config");var envs=config.envs;function bm(userId,env){if(!isNumber(userId)){throw new TypeError("typeof User ID have to be number")}if(envs.indexOf(env)===-1){throw new Error("env have to dev/stage/production")}this.userId=userId;this.env=env}bm.prototype.util=require("./util/");bm.prototype.scoreGet=require("./score/").get;bm.prototype.scorePost=require("./score/").post;bm.prototype.achievementGet=require("./achievement/").get;bm.prototype.achievementUpdate=require("./achievement/").update;global.bm=bm}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./achievement/":2,"./lib/config":5,"./lib/isNumber":8,"./score/":11,"./util/":13}],5:[function(require,module,exports){module.exports={url:"http://localhost:8000/test",envs:["dev","stage","production"],endpoint:{postScore:"/fixture/postScore.json",getScore:"/fixture/getScore.json",updateAchievement:"/fixture/updateAchievement.json",getAchievement:"/fixture/getAchievement.json"}}},{}],6:[function(require,module,exports){module.exports=function(url,params,onsuccess,onerror){if(typeof XMLHttpRequest===void 0){return}url=buildUrl(url,params);var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.onerror=onerror;xhr.onload=function(e){if(xhr.readyState!==4){return}if(xhr.status!==200){onerror(e);return}onsuccess(xhr.responseText)};xhr.send(null)};function buildUrl(url,params){if(params.length===0)return url;url+="?";Object.keys(params).forEach(function(key){var val=params[key];url+=key+"="+val;url+="&"});url=url.slice(0,-1);return url}},{}],7:[function(require,module,exports){module.exports=function(func){return typeof func==="function"}},{}],8:[function(require,module,exports){module.exports=function(val){return typeof val==="number"}},{}],9:[function(require,module,exports){module.exports=function(url,params,onsuccess,onerror){if(typeof XMLHttpRequest===void 0){return}var xhr=new XMLHttpRequest;xhr.open("POST",url,true);xhr.onerror=onerror;xhr.onload=function(e){if(xhr.readyState!==4){return}if(xhr.status!==200){onerror(e);return}onsuccess(xhr.responseText)};params=buildParams(params);xhr.send(params)};function buildParams(params){var out="";Object.keys(params).forEach(function(key){var val=params[key];out+=key+"="+val;out+="&"});out=out.slice(0,-1);return out}},{}],10:[function(require,module,exports){var get=require("../lib/get");var config=require("../lib/config");var url=config.url;var isFunction=require("../lib/isFunction");var api=config.endpoint.getScore;module.exports=function(onsuccess,onerror){if(!isFunction(onsuccess)){throw new TypeError("typeof onsuccess have to be function")}if(!isFunction(onerror)){throw new TypeError("typeof onerror have to be function")}get(url+api,{userId:this.userId},onsuccess,onerror)}},{"../lib/config":5,"../lib/get":6,"../lib/isFunction":7}],11:[function(require,module,exports){module.exports.get=require("./get");module.exports.post=require("./post")},{"./get":10,"./post":12}],12:[function(require,module,exports){var post=require("../lib/post");var config=require("../lib/config");var url=config.url;var isNumber=require("../lib/isNumber");var isFunction=require("../lib/isFunction");var api=config.endpoint.postScore;module.exports=function(score,onsuccess,onerror){if(!isNumber(score)){throw new TypeError("typeof score have to be number")}if(!isFunction(onsuccess)){throw new TypeError("typeof onsuccess have to be function")}if(!isFunction(onerror)){throw new TypeError("typeof onerror have to be function")}post(url+api,{userId:this.userId,score:score},onsuccess,onerror)}},{"../lib/config":5,"../lib/isFunction":7,"../lib/isNumber":8,"../lib/post":9}],13:[function(require,module,exports){module.exports.log=require("./log")},{"./log":14}],14:[function(require,module,exports){module.exports=function(message){if(this.env!=="dev")return;console.log(message)}},{}]},{},[4]);
